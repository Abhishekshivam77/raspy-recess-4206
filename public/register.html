<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- BOX ICON -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!-- CSS FILE -->
    <link rel="stylesheet" href="./style/register.css" />
</head>

<body>
   
  
	<!-- SIDEBAR -->
	<section id="sidebar">
	  <a href="#" class="brand">
		  <img class="bblogo" src="./images/projectnxm201logo.png" alt="">
		  
	  </a>
	  <ul class="side-menu top">
		  <li class="active">
			  <a href="/public/admin.html">
				  <i class='bx bxs-dashboard' ></i>
				  <span class="text">Dashboard</span>
			  </a>
		  </li>
		  <li>
			  <a href="store.html" >
				  <i class='bx bx-card' ></i>
				  <span class="text">View Transactions</span>
			  </a>
		  </li>
		  <li>
			  <a href="edit.html" >
				  <i class='bx bxs-up-arrow-circle' ></i>
				  <span class="text">Income</span>
			  </a>
		  </li>
		  <li>
			  <a href="register.html">
				  <i class='bx bxs-down-arrow-circle' ></i>
				  <span class="text">Expense</span>
			  </a>
		  </li>
		  
	  </ul>
	  <ul class="side-menu">
		  
		  <li>
			  <a href="#" class="logout">
				  <i class='bx bx-log-out' ></i>
				  <span class="text">Logout</span>
			  </a>
		  </li>
	  </ul>
  </section>
	  <!-- SIDEBAR -->
  
  
  
	  <!-- CONTENT -->
	  <section id="content">
		  <!-- NAVBAR -->
		  <nav>
			  <a href="#" class="profile">
				  <img  id="profile_pic" src="https://th.bing.com/th/id/OIP.y-nGyqT5AwES8oqp344z4gHaHa?pid=ImgDet&rs=1">
			  </a>
			  <a href="#" class="nav-link">NAME</a>
			  <form action="#">
				  <div class="form-input">
					  <input type="search" placeholder="Search...">
					  <button type="submit" class="search-btn"><i class='bx bx-search' ></i></button>
				  </div>
			  </form>
			  <input type="checkbox" id="switch-mode" hidden>
			  <label for="switch-mode" class="switch-mode"></label>
			  <a href="#" class="notification">
				  <i class='bx bxs-bell' ></i>
				  <span class="num">8</span>
			  </a>
			  
		  </nav>
		  <main>
			  <div class="head-title">
				  <div class="left">
					  <h1>Expense</h1>
					  <!-- <ul class="breadcrumb">
						  <li>
							  <a href="#">Dashboard</a>
						  </li>
						  <li><i class='bx bx-chevron-right' ></i></li>
						  <li>
							  <a class="active" href="./index.html" target="_blank">HomePage</a>
						  </li>
					  </ul> -->
				  </div>
				  <a href="#" class="btn-download">
					  <i class='bx bxs-cloud-download' ></i>
					  <span class="text">Download PDF</span>
				  </a>
			  </div>
  
			  <ul class="box-info">
				  <li>
					  <i class='bx bxs-dollar-circle' ></i>
					  <span class="text">
						  <h3 id="total_profit">$1020</h3>
						  <p>Total Profit</p>
					  </span>
				  </li>
				  <li>
					  <i class='bx bxs-dollar-circle' ></i>
					  <span class="text">
						  <h3 id="total_income">$2834</h3>
						  <p>Total Income</p>
					  </span>
				  </li>
				  <li>
					  <i class='bx bxs-dollar-circle' ></i>
					  <span class="text">
						  <h3 id="total_expense">$2543</h3>
						  <p>Total Expense</p>
					  </span>
				  </li>
			  </ul>
  
  
			  <div class="table-data">
				  <div class="order">
					  <div class="head">
						  <h3>All Expense Report</h3>
						  <i class='bx bx-search' ></i>
						  <i class='bx bx-filter' ></i>
					  </div>
					  <div id="recent_activity" style="border: 1px solid red;width: 100%; height: 100px;">
  
  <!-- recent asctivity will post over here -->
  <h1>only Expense data will apeend over here by date / amount / purpose , you can use filter functinality over here asc and dsc and by date by purpose
	  checkout line no. 142 resiter.html
  </h1>
  
					  </div>
				  </div>
				  <div class="todo">
					  <div class="head">
						  <h3>Add Expense Details</h3>
						  <i class='bx bx-plus' ></i>
						  <i class='bx bx-filter' ></i>
			  <h1>frrom will be appen over herecheckout line no. 153 resiter.html</h1>
					  <!-- </div>
					  <ul class="todo-list">
						  <li class="not-completed">
							  <p>add purpose</p>
							  <p>$500</p>
							  <i class='bx bx-dots-vertical-rounded' ></i>
						  </li>
						  
						  <li class="not-completed">
							  <p>Todo List</p>
							  <p>$500</p>
							  <i class='bx bx-dots-vertical-rounded' ></i>
						  </li>
					  </ul> -->
				  </div>
			  </div>
  
			  
		  
		  <!-- MAIN -->
	  </section>
  
	  
	  <!-- CONTENT -->
  
	  
  </body>
	<script>
		const switchMode = document.getElementById('switch-mode');

switchMode.addEventListener('change', function () {
	if(this.checked) {
		document.body.classList.add('dark');
	} else {
		document.body.classList.remove('dark');
	}
})

let table = document.getElementById("usertbody");
    // let a = 1;
	fetch(`http://127.0.0.1:9090/cats`)
    .then((res)=>res.json())
    .then((data)=>{
        console.log(data);
        // storeddata=data;
        display(data);
    })
    

    function display(data) {
      table.innerHTML = "";
      data.forEach((element, index) => {
        let tr = document.createElement("tr");

        let td1 = document.createElement("td");
        td1.innerText = element.id;

		let td3 = document.createElement("td");
        td3.innerText = element.Name;

        let td2 = document.createElement("td");
        td2.innerText = element.EmailId;

		let td4 = document.createElement("td");
        td4.innerText = element.MobileNo;

        let td6 = document.createElement("td");
        td6.innerHTML = td6.style.backgroundColor = "pink";
        td6.innerHTML = td6.style.textAlign = "center";
        td6.innerText = "Delete";

        td6.addEventListener("click", () => {
          userData = data.filter((el, i) => {
            if (index == i) {
              return false;
            } else {
              return true;
            }
          });
        //   localStorage.setItem("userData", JSON.stringify(userData));
          display(userData);
        });

        tr.append(td1, td2, td3, td4, td6);
        table.append(tr);
	});
}
	</script>
</html>